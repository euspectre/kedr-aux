В этом разделе приведены примеры использования файлов(не символьных устройств!) для управления модулем ядра.

Очень редкие модули ядра нужны сами по себе, без взаимодействия с другими компонентами системы.
Проблема организации взаимодействия между модулями проще всего осуществляется на основе экспорта функций.
Взаимодействие между модулем и пользовательским пространством организовать сложнее.

Один из простых вариантов такого взаимодействия - через файлы, создаваемые модулем.

Часто используется такая семантика:

-----------------------------------------------------------------------------------------------------------------------------
-один файл связывается с одной характеристикой состояния модуля, на которую планируется воздействие пользователя.
-чтение из файла возвращает пользователю характеристику текущего состояния
-запись в файл заставляет модуль изменять свое текущее состояние так, чтобы характеристика изменилась определенным образом
------------------------------------------------------------------------------------------------------------------------------

Если состояние модуля, описывается небольшим константным числом характеристик(которыми пользователь должен уметь управлять),
то можно создать символьное устройство(одно или несколько), которые будут обеспечивать взимодействие с пользователем.
который лишь должен создать файл, соответствующий этому символьному устройству(ч/з mknod).

Такой способ подходит для характеристики, например, включена какая-либо функциональность модуля, или выключена.

Если же характеристик модуля много, или их количество динамически меняется, то подход с символьными устройствами затруднителен:
имена символьных устройств должны быть уникальными, и отражать структуру характеристик модуля.
Причем эту структуру в именах устройств необходимо реализовывать как в модуле, так и в программах пользовательского уровня(напр., скриптах).

Эффективное решение таких проблем - создание файлов в некоторой файловой системе вместо создания символьных устройств. Плюсы:

1. Структура файлов может хорошо отражать структуру характеристик, а точнее объектов, к которым эти характеристики применяются.
2. Файловая система упрощает управление структурой создаваемых файлов со стороны ядра.
3. Опять же, файловая система упрощает наблюдение за структурой файлов со стороны пространства пользователя.